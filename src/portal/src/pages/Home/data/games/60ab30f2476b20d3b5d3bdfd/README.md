# [taxi] 基于机器学习数据库飞速上线AI应用

## 你会获得什么？

本次任务提供了一个机器学习数据库的实战案例，你将会在5分钟的时间内，快速学习、开发并上线一个实时智能决策应用（出租车实时行程耗时预测）。

## 介绍

机器学习技术已经广泛落地实践在广告投放、千人千面资讯推荐、实时定价等应用场景。在这些应用场景中，相比于传统方案下由人进行数据分析并指导业务决策，机器学习技术为机器和模型进行实时自动决策提供了解决方案，这种优势不仅体现在依靠机器面向大规模数据进行上亿级别的海量策略设计，也体现在机器能够进行更快速的策略计算和迭代。

在数据供给侧，相比报表分析型数据，机器学习对数据有着不同的标准和要求，保障机器学习行为反馈数据的正确关联(Closed-loop)、保障机器学习数据计算的线上线下一致性(Consistency)、保障实时决策数据的时序正确(Chronology) 是提供正确且有效数据供给的必要条件。使用传统分析型数据库解决方案，不仅会出现线下线上计算逻辑不一致、时序数据穿越等工程陷阱，导致AI应用效果出现不可控衰退，也会导致数据工程师与算法科学家长达数月的故障排查投入。 为此，第四范式面向机器学习应用进行了数据库核心系统的开发与设计，相比在带来10倍性能提升的同时，将机器学习应用生产落地的周期从六个月缩短至两周。



## 任务介绍

大家平时可能都会打车，从出发的地点到目的地，行程耗时可能会存在多种因素，比如天气，是否周五，如果获取更准确的耗时预测，对人来说是一个复杂的问题，而对机器就变得很简单，今天的任务就是开发一个通过机器学习模型进行出租车行程耗时的实时智能应用，整个应用开发是基于[notebook](http://ipython.org/notebook.html)


![出租车行程耗时预测](https://z3.ax1x.com/2021/05/24/gjzGh8.jpg)

任务主要分为以下几个步骤，notebook操作可以用ctrl+enter快捷运行，注意**在notebook每一步执行必须等上一步执行完毕才行**

 1. 选择出租车行程耗时预测智能应用开发，并配置资源与启动
 2. 通过notebook，打开develop_ml_application_tour.ipynb![](https://ftp.bmp.ovh/imgs/2021/05/7f4c72012e2edc7d.png)
 3. 初始化环境，选择第一个cell执行 ![img] (https://ftp.bmp.ovh/imgs/2021/05/b0cce07e65de1d16.png)
 4. 导入行程历史数据到fedb，执行第二个cell![](https://ftp.bmp.ovh/imgs/2021/05/5f680fe5f24a425a.png)
 5. 使用行程数据进行模型训练，执行第三个cell![](https://ftp.bmp.ovh/imgs/2021/05/20674165e7ff94b3.png)
 6. 使用训练的模型搭建链接fedb的实时推理http服务，执行第四个cell![](https://ftp.bmp.ovh/imgs/2021/05/17ae8aad68a56e42.png)
 7. 使用http接口发送推理请求，执行第五个cell ![](https://ftp.bmp.ovh/imgs/2021/05/cce5956b439a3c8f.png)

## 结果截图
运行完成后，将运行完成的结果（如下图）截图发送至opensource@4paradigm.com，邮件名称为“闯关赛结果截图提交”

```plain
----------------ins---------------
[[ 2.       40.774097 40.774097 40.774097 40.774097 40.774097 40.774097
  40.774097 40.774097  1.        1.      ]]
---------------predict trip_duration -------------
850.7426017991609 s
Congraduation! You have finished the task.
Your Key:b'KPiLwPgUBlSW3AHoKPUiPQzNZxk4i+HeAPcmVdTHEFViNIVwJB1/GeDytgc='
```

